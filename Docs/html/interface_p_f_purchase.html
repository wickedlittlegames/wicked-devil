<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Wicked Devil: PFPurchase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Wicked Devil
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Class Methods</a> &#124;
<a href="class_p_f_purchase-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PFPurchase Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_p_f_purchase_8h_source.html">PFPurchase.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for PFPurchase:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_p_f_purchase.png" usemap="#PFPurchase_map" alt=""/>
  <map id="PFPurchase_map" name="PFPurchase_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Class Methods</h2></td></tr>
<tr class="memitem:ae3c49efc879753632d2bcdba5d866817"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_p_f_purchase.html#ae3c49efc879753632d2bcdba5d866817">addObserverForProduct:block:</a></td></tr>
<tr class="separator:ae3c49efc879753632d2bcdba5d866817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69356fa5a15e4a9a4995e0f3d7b3cb76"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_p_f_purchase.html#a69356fa5a15e4a9a4995e0f3d7b3cb76">buyProduct:block:</a></td></tr>
<tr class="separator:a69356fa5a15e4a9a4995e0f3d7b3cb76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eb6c5897eb2cbb3ad36b03a74d2481d"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_p_f_purchase.html#a3eb6c5897eb2cbb3ad36b03a74d2481d">downloadAssetForTransaction:completion:</a></td></tr>
<tr class="separator:a3eb6c5897eb2cbb3ad36b03a74d2481d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cd988f31a6dcac6e8ad217d8edeb2cc"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_p_f_purchase.html#a2cd988f31a6dcac6e8ad217d8edeb2cc">downloadAssetForTransaction:completion:progress:</a></td></tr>
<tr class="separator:a2cd988f31a6dcac6e8ad217d8edeb2cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fed56fd4a6d42ef9dd0e922a2c8a64f"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_p_f_purchase.html#a0fed56fd4a6d42ef9dd0e922a2c8a64f">restore</a></td></tr>
<tr class="separator:a0fed56fd4a6d42ef9dd0e922a2c8a64f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="interface_p_f_purchase.html">PFPurchase</a> provides a set of APIs for working with in-app purchases. </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="ae3c49efc879753632d2bcdba5d866817"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) addObserverForProduct: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>productIdentifier</em></td>
        </tr>
        <tr>
          <td class="paramkey">block:</td>
          <td></td>
          <td class="paramtype">(SKPaymentTransaction *transaction)&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use this method to add application logic block which is run when buying a product. This method should be called once for each product, and should be called before calling buyProduct:block. All invocations to addObserverForProduct:block: should happen within the same method, and on the main thread. It is recommended to place all invocations of this method in application:didFinishLaunchingWithOptions:. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">productIdentifier</td><td>the product identifier </td></tr>
    <tr><td class="paramname">completion</td><td>the completion block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a69356fa5a15e4a9a4995e0f3d7b3cb76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) buyProduct: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>productIdentifier</em></td>
        </tr>
        <tr>
          <td class="paramkey">block:</td>
          <td></td>
          <td class="paramtype">(NSError *error)&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asynchronously initiates the purchase for the product. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">productIdentifier</td><td>the product identifier </td></tr>
    <tr><td class="paramname">block</td><td>the completion block. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3eb6c5897eb2cbb3ad36b03a74d2481d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) downloadAssetForTransaction: </td>
          <td></td>
          <td class="paramtype">(SKPaymentTransaction *)&#160;</td>
          <td class="paramname"><em>transaction</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>filePath</em></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(NSError *error)&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asynchronously download the purchased asset, which is stored on <a class="el" href="interface_parse.html">Parse</a>'s server. <a class="el" href="interface_parse.html">Parse</a> verifies the receipt with Apple and delivers the content only if the receipt is valid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>the transaction, which contains the receipt. </td></tr>
    <tr><td class="paramname">completion</td><td>the completion block. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2cd988f31a6dcac6e8ad217d8edeb2cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) downloadAssetForTransaction: </td>
          <td></td>
          <td class="paramtype">(SKPaymentTransaction *)&#160;</td>
          <td class="paramname"><em>transaction</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>filePath</em></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(NSError *error)&#160;</td>
          <td class="paramname"><em>completion</em></td>
        </tr>
        <tr>
          <td class="paramkey">progress:</td>
          <td></td>
          <td class="paramtype">(PFProgressBlock)&#160;</td>
          <td class="paramname"><em>progress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asynchronously download the purchased asset, which is stored on <a class="el" href="interface_parse.html">Parse</a>'s server. <a class="el" href="interface_parse.html">Parse</a> verifies the receipt with Apple and delivers the content only if the receipt is valid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>the transaction, which contains the receipt. </td></tr>
    <tr><td class="paramname">completion</td><td>the completion block. </td></tr>
    <tr><td class="paramname">progress</td><td>the progress block, which is called multiple times to reveal progress of the download. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0fed56fd4a6d42ef9dd0e922a2c8a64f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) restore </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asynchronously restore completed transactions for the current user. Note: This method is only important to developers who want to preserve purchase states across different installations of the same app. Only nonconsumable purchases are restored. If observers for the products have been added before calling this method, invoking the method reruns the application logic associated with the purchase. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/andygirvan/Documents/Projects/Apps/iPhone/Wicked Little Devil/Parse.framework/Versions/1.1.0/Headers/<a class="el" href="_p_f_purchase_8h_source.html">PFPurchase.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 12 2012 15:51:16 for Wicked Devil by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
