<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Wicked Devil: PF_FBSession Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Wicked Devil
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#pub-static-methods">Class Methods</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_p_f___f_b_session-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PF_FBSession Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_p_f___f_b_session_8h_source.html">PF_FBSession.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for PF_FBSession:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_p_f___f_b_session.png" usemap="#PF_FBSession_map" alt=""/>
  <map id="PF_FBSession_map" name="PF_FBSession_map">
<area href="interface_p_f___f_b_test_session.html" alt="PF_FBTestSession" shape="rect" coords="0,112,118,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:aaff710c962637435ebbec6a73667e153"><td class="memItemLeft" align="right" valign="top">(id)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_p_f___f_b_session.html#aaff710c962637435ebbec6a73667e153">init</a></td></tr>
<tr class="separator:aaff710c962637435ebbec6a73667e153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad99c0def26ad6dfd5bc7bc343e97a169"><td class="memItemLeft" align="right" valign="top">(id)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_p_f___f_b_session.html#ad99c0def26ad6dfd5bc7bc343e97a169">initWithPermissions:</a></td></tr>
<tr class="separator:ad99c0def26ad6dfd5bc7bc343e97a169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59231a03e0ad3a60ab49e6d7436fab5a"><td class="memItemLeft" align="right" valign="top">(id)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_p_f___f_b_session.html#a59231a03e0ad3a60ab49e6d7436fab5a">initWithAppID:permissions:urlSchemeSuffix:tokenCacheStrategy:</a></td></tr>
<tr class="separator:a59231a03e0ad3a60ab49e6d7436fab5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d2185613b4bcdd280653ed902eba27a"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_p_f___f_b_session.html#a7d2185613b4bcdd280653ed902eba27a">openWithCompletionHandler:</a></td></tr>
<tr class="separator:a7d2185613b4bcdd280653ed902eba27a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95fcbc6b358bddc3fe817b08d006b89f"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_p_f___f_b_session.html#a95fcbc6b358bddc3fe817b08d006b89f">openWithBehavior:completionHandler:</a></td></tr>
<tr class="separator:a95fcbc6b358bddc3fe817b08d006b89f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63e89d8d03ce30926e66fd540bb4cdbc"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_p_f___f_b_session.html#a63e89d8d03ce30926e66fd540bb4cdbc">close</a></td></tr>
<tr class="separator:a63e89d8d03ce30926e66fd540bb4cdbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f94e8ce8de97fdc4c13ea4e7c9c9a8a"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_p_f___f_b_session.html#a9f94e8ce8de97fdc4c13ea4e7c9c9a8a">closeAndClearTokenInformation</a></td></tr>
<tr class="separator:a9f94e8ce8de97fdc4c13ea4e7c9c9a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36bf9d37fe58f560fa83600266e26461"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_p_f___f_b_session.html#a36bf9d37fe58f560fa83600266e26461">reauthorizeWithPermissions:behavior:completionHandler:</a></td></tr>
<tr class="separator:a36bf9d37fe58f560fa83600266e26461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d838bdf72bf076b748e2222780f6a7f"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_p_f___f_b_session.html#a4d838bdf72bf076b748e2222780f6a7f">handleOpenURL:</a></td></tr>
<tr class="separator:a4d838bdf72bf076b748e2222780f6a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f633ca757d3c3397b3de5c2123121d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af7f633ca757d3c3397b3de5c2123121d"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>refreshAccessToken:expirationDate:</b></td></tr>
<tr class="separator:af7f633ca757d3c3397b3de5c2123121d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78db894a536d6fed3e5c85f8c64b5393"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a78db894a536d6fed3e5c85f8c64b5393"></a>
(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <b>shouldExtendAccessToken</b></td></tr>
<tr class="separator:a78db894a536d6fed3e5c85f8c64b5393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f1b8f3083cb20d090cf4b8593c6211"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a52f1b8f3083cb20d090cf4b8593c6211"></a>
(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <b>transitionToState:andUpdateToken:andExpirationDate:shouldCache:</b></td></tr>
<tr class="separator:a52f1b8f3083cb20d090cf4b8593c6211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae50a97c45dbdd1ea1315756082c3d9c8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae50a97c45dbdd1ea1315756082c3d9c8"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>transitionAndCallHandlerWithState:error:token:expirationDate:shouldCache:</b></td></tr>
<tr class="separator:ae50a97c45dbdd1ea1315756082c3d9c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b9c4cbde74530f17a4d9cfd9a87f713"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b9c4cbde74530f17a4d9cfd9a87f713"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <b>authorizeWithPermissions:behavior:</b></td></tr>
<tr class="separator:a2b9c4cbde74530f17a4d9cfd9a87f713"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Class Methods</h2></td></tr>
<tr class="memitem:af8a557177a7f8e5da3a3d6a958a22abe"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_p_f___f_b_session.html#af8a557177a7f8e5da3a3d6a958a22abe">openActiveSessionWithAllowLoginUI:</a></td></tr>
<tr class="separator:af8a557177a7f8e5da3a3d6a958a22abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a252234ba597d36a8326b7e37ecafc7aa"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_p_f___f_b_session.html#a252234ba597d36a8326b7e37ecafc7aa">openActiveSessionWithPermissions:allowLoginUI:completionHandler:</a></td></tr>
<tr class="separator:a252234ba597d36a8326b7e37ecafc7aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa0e548755157fc1687e1b4db1bf304d"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a> *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_p_f___f_b_session.html#aaa0e548755157fc1687e1b4db1bf304d">activeSession</a></td></tr>
<tr class="separator:aaa0e548755157fc1687e1b4db1bf304d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a604b2fa3cf89515f721c2c1f3adc797c"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a> *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_p_f___f_b_session.html#a604b2fa3cf89515f721c2c1f3adc797c">setActiveSession:</a></td></tr>
<tr class="separator:a604b2fa3cf89515f721c2c1f3adc797c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93a5e832d173ce162c3783939e0eb642"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_p_f___f_b_session.html#a93a5e832d173ce162c3783939e0eb642">setDefaultAppID:</a></td></tr>
<tr class="separator:a93a5e832d173ce162c3783939e0eb642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefe13fd1e66663f0fffc9ff69c972c3b"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_p_f___f_b_session.html#aefe13fd1e66663f0fffc9ff69c972c3b">defaultAppID</a></td></tr>
<tr class="separator:aefe13fd1e66663f0fffc9ff69c972c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a86c79dc50ec883827a28669cfffab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76a86c79dc50ec883827a28669cfffab"></a>
(<a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a> *)&#160;</td><td class="memItemRight" valign="bottom">+ <b>activeSessionIfOpen</b></td></tr>
<tr class="separator:a76a86c79dc50ec883827a28669cfffab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55bddedab96a43068cfafeb9e8f10dd5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a55bddedab96a43068cfafeb9e8f10dd5"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">+ <b>deleteFacebookCookies</b></td></tr>
<tr class="separator:a55bddedab96a43068cfafeb9e8f10dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41beeed473c0b39a51eca570325dc3f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a41beeed473c0b39a51eca570325dc3f6"></a>
(NSDate *)&#160;</td><td class="memItemRight" valign="bottom">+ <b>expirationDateFromExpirationTimeString:</b></td></tr>
<tr class="separator:a41beeed473c0b39a51eca570325dc3f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e3a5d272c1ca7b9445022abef614c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67e3a5d272c1ca7b9445022abef614c3"></a>
(NSError *)&#160;</td><td class="memItemRight" valign="bottom">+ <b>errorLoginFailedWithReason:errorCode:</b></td></tr>
<tr class="separator:a67e3a5d272c1ca7b9445022abef614c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a1063c539e1c093c354860bdd686fcd20"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_p_f___f_b_session.html#a1063c539e1c093c354860bdd686fcd20">isOpen</a></td></tr>
<tr class="separator:a1063c539e1c093c354860bdd686fcd20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e6f270389cb61c34244c409500d627"><td class="memItemLeft" align="right" valign="top">PF_FBSessionState&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_p_f___f_b_session.html#ab6e6f270389cb61c34244c409500d627">state</a></td></tr>
<tr class="separator:ab6e6f270389cb61c34244c409500d627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3524b84d57bb6649ae0aa24800deb123"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_p_f___f_b_session.html#a3524b84d57bb6649ae0aa24800deb123">appID</a></td></tr>
<tr class="separator:a3524b84d57bb6649ae0aa24800deb123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae45c43aec35f94c5355a95c9748b68ca"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_p_f___f_b_session.html#ae45c43aec35f94c5355a95c9748b68ca">urlSchemeSuffix</a></td></tr>
<tr class="separator:ae45c43aec35f94c5355a95c9748b68ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed5d4ab563538b059effa41d430028e2"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_p_f___f_b_session.html#aed5d4ab563538b059effa41d430028e2">accessToken</a></td></tr>
<tr class="separator:aed5d4ab563538b059effa41d430028e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c9d9aed24b96b66985cf04496df9ed7"><td class="memItemLeft" align="right" valign="top">NSDate *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_p_f___f_b_session.html#a1c9d9aed24b96b66985cf04496df9ed7">expirationDate</a></td></tr>
<tr class="separator:a1c9d9aed24b96b66985cf04496df9ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8450ff411f439dc66798df249eeefec3"><td class="memItemLeft" align="right" valign="top">NSArray *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_p_f___f_b_session.html#a8450ff411f439dc66798df249eeefec3">permissions</a></td></tr>
<tr class="separator:a8450ff411f439dc66798df249eeefec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <code><a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a></code> object is used to authenticate a user and manage the user's session. After initializing a <code><a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a></code> object the Facebook App ID and desired permissions are stored. Opening the session will initiate the authentication flow after which a valid user session should be available and subsequently cached. Closing the session can optionally clear the cache.</p>
<p>If an &lt;PF_FBRequest&gt; request requires user authorization then an <code><a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a></code> object should be used.</p>
<p>Instances of the <code><a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a></code> class provide notification of state changes in the following ways:</p>
<ol type="1">
<li>Callers of certain <code><a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a></code> methods may provide a block that will be called back in the course of state transitions for the session (e.g. login or session closed).</li>
</ol>
<ol type="1">
<li>The object supports Key-Value Observing (KVO) for property changes. </li>
</ol>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="aaa0e548755157fc1687e1b4db1bf304d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (<a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a>*) activeSession </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An appication may get or set the current active session. Certain high-level components in the SDK will use the activeSession to set default session (e.g. <code><a class="el" href="interface_p_f___f_b_login_view.html">PF_FBLoginView</a></code>, <code><a class="el" href="interface_p_f___f_b_friend_picker_view_controller.html">PF_FBFriendPickerViewController</a></code>)</p>
<p>If sessionOpen* is called, the resulting <code><a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a></code> object also becomes the activeSession. If another session was active at the time, it is closed automatically. If activeSession is called when no session is active, a session object is instatiated and returned; in this case open must be called on the session in order for it to be useable for communication with Facebook. </p>

</div>
</div>
<a class="anchor" id="a63e89d8d03ce30926e66fd540bb4cdbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) close </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes the local in-memory session object, but does not clear the persisted token cache. </p>

</div>
</div>
<a class="anchor" id="a9f94e8ce8de97fdc4c13ea4e7c9c9a8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) closeAndClearTokenInformation </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes the in-memory session, and clears any persisted cache related to the session. </p>

</div>
</div>
<a class="anchor" id="aefe13fd1e66663f0fffc9ff69c972c3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSString*) defaultAppID </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the default Facebook App ID to use for sessions. If not explicitly set, the default will be read from the application's plist. The app ID may be overridden on a per session basis. </p>

</div>
</div>
<a class="anchor" id="a4d838bdf72bf076b748e2222780f6a7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) handleOpenURL: </td>
          <td></td>
          <td class="paramtype">(NSURL *)&#160;</td>
          <td class="paramname"><em>url</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A helper method that is used to provide an implementation for [<a class="el" href="class_u_i_application_delegate-p.html">UIApplicationDelegate</a> application:openURL:sourceApplication:annotation:]. It should be invoked during the Facebook Login flow and will update the session information based on the incoming URL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The URL as passed to [<a class="el" href="class_u_i_application_delegate-p.html">UIApplicationDelegate</a> application:openURL:sourceApplication:annotation:]. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaff710c962637435ebbec6a73667e153"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) init </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creating a session</p>
<p>Returns a newly initialized Facebook session with default values for the parameters to &lt;initWithAppID:permissions:urlSchemeSuffix:tokenCacheStrategy:&gt;. </p>

</div>
</div>
<a class="anchor" id="a59231a03e0ad3a60ab49e6d7436fab5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) initWithAppID: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>appID</em></td>
        </tr>
        <tr>
          <td class="paramkey">permissions:</td>
          <td></td>
          <td class="paramtype">(NSArray *)&#160;</td>
          <td class="paramname"><em>permissions</em></td>
        </tr>
        <tr>
          <td class="paramkey">urlSchemeSuffix:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>urlSchemeSuffix</em></td>
        </tr>
        <tr>
          <td class="paramkey">tokenCacheStrategy:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_p_f___f_b_session_token_caching_strategy.html">PF_FBSessionTokenCachingStrategy</a> *)&#160;</td>
          <td class="paramname"><em>tokenCachingStrategy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Following are the descriptions of the arguments along with their defaults when ommitted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permissions</td><td>An array of strings representing the permissions to request during the authentication flow. A value of nil will indicates basic permissions. The default is nil. </td></tr>
    <tr><td class="paramname">appID</td><td>The Facebook App ID for the session. If nil is passed in the default App ID will be obtained from a call to &lt;[<a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a> defaultAppID]&gt;. The default is nil. </td></tr>
    <tr><td class="paramname">urlSchemeSuffix</td><td>The URL Scheme Suffix to be used in scenarious where multiple iOS apps use one Facebook App ID. A value of nil indicates that this information should be pulled from the plist. The default is nil. </td></tr>
    <tr><td class="paramname">tokenCachingStrategy</td><td>Specifies a key name to use for cached token information in NSUserDefaults, nil indicates a default value of "PF_FBAccessTokenInformationKey". </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad99c0def26ad6dfd5bc7bc343e97a169"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) initWithPermissions: </td>
          <td></td>
          <td class="paramtype">(NSArray *)&#160;</td>
          <td class="paramname"><em>permissions</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a newly initialized Facebook session with the specified permissions and other default values for parameters to &lt;initWithAppID:permissions:urlSchemeSuffix:tokenCacheStrategy:&gt;.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permissions</td><td>An array of strings representing the permissions to request during the authentication flow. A value of nil will indicates basic permissions. The default is nil. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af8a557177a7f8e5da3a3d6a958a22abe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) openActiveSessionWithAllowLoginUI: </td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>allowLoginUI</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Class methods</p>
<p>This is the simplest method for opening a session with Facebook. Using sessionOpen logs on a user, and sets the static activeSession which becomes the default session object for any Facebook UI widgets used by the application. This session becomes the active session, whether open succeeds or fails.</p>
<p>Note, if there is not a cached token available, this method will present UI to the user in order to open the session via explicit login by the user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">allowLoginUI</td><td>Sometimes it is useful to attempt to open a session, but only if no login UI will be required to accomplish the operation. For example, at application startup it may not be disirable to transition to login UI for the user, and yet an open session is desired so long as a cached token can be used to open the session. Passing NO to this argument, assures the method will not present UI to the user in order to open the session.</td></tr>
  </table>
  </dd>
</dl>
<p>Returns YES if the session was opened synchronously without presenting UI to the user. This occurs when there is a cached token available from a previous run of the application. If NO is returned, this indicates that the session was not immediately opened, via cache. However, if YES was passed as allowLoginUI, then it is possible that the user will login, and the session will become open asynchronously. The primary use for this return value is to switch-on facebook capabilities in your UX upon startup, in the case were the session is opened via cache. </p>

</div>
</div>
<a class="anchor" id="a252234ba597d36a8326b7e37ecafc7aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) openActiveSessionWithPermissions: </td>
          <td></td>
          <td class="paramtype">(NSArray *)&#160;</td>
          <td class="paramname"><em>permissions</em></td>
        </tr>
        <tr>
          <td class="paramkey">allowLoginUI:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>allowLoginUI</em></td>
        </tr>
        <tr>
          <td class="paramkey">completionHandler:</td>
          <td></td>
          <td class="paramtype">(PF_FBSessionStateHandler)&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a simple method for opening a session with Facebook. Using sessionOpen logs on a user, and sets the static activeSession which becomes the default session object for any Facebook UI widgets used by the application. This session becomes the active session, whether open succeeds or fails.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permissions</td><td>An array of strings representing the permissions to request during the authentication flow. A value of nil will indicates basic permissions. A nil value specifies default permissions.</td></tr>
    <tr><td class="paramname">allowLoginUI</td><td>Sometimes it is useful to attempt to open a session, but only if no login UI will be required to accomplish the operation. For example, at application startup it may not be desirable to transition to login UI for the user, and yet an open session is desired so long as a cached token can be used to open the session. Passing NO to this argument, assures the method will not present UI to the user in order to open the session.</td></tr>
    <tr><td class="paramname">handler</td><td>Many applications will benefit from notification when a session becomes invalid or undergoes other state transitions. If a block is provided, the <a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a> object will call the block each time the session changes state.</td></tr>
  </table>
  </dd>
</dl>
<p>Returns true if the session was opened synchronously without presenting UI to the user. This occurs when there is a cached token available from a previous run of the application. If NO is returned, this indicates that the session was not immediately opened, via cache. However, if YES was passed as allowLoginUI, then it is possible that the user will login, and the session will become open asynchronously. The primary use for this return value is to switch-on facebook capabilities in your UX upon startup, in the case were the session is opened via cache. </p>

</div>
</div>
<a class="anchor" id="a95fcbc6b358bddc3fe817b08d006b89f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) openWithBehavior: </td>
          <td></td>
          <td class="paramtype">(PF_FBSessionLoginBehavior)&#160;</td>
          <td class="paramname"><em>behavior</em></td>
        </tr>
        <tr>
          <td class="paramkey">completionHandler:</td>
          <td></td>
          <td class="paramtype">(PF_FBSessionStateHandler)&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Logs a user on to Facebook.</p>
<p>A session may not be used with &lt;PF_FBRequest&gt; and other classes in the SDK until it is open. If, prior to calling open, the session is in the &lt;PF_FBSessionStateCreatedTokenLoaded&gt; state, then no UX occurs, and the session becomes available for use. If the session is in the &lt;PF_FBSessionStateCreated&gt; state, prior to calling open, then a call to open causes login UX to occur, either via the Facebook application or via mobile Safari.</p>
<p>The method may be called at most once and must be called after the <code><a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a></code> is initialized. It must be called before the session is closed. Calling the method at an invalid time will result in an exception. The open session methods may be passed a block that will be called back when the session state changes. The block will be released when the session is closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">behavior</td><td>Controls whether to allow, force, or prohibit Facebook Login or Inline Facebook Login. The default is to allow Facebook Login, with fallback to Inline Facebook Login. </td></tr>
    <tr><td class="paramname">handler</td><td>A block to call with session state changes. The default is nil. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7d2185613b4bcdd280653ed902eba27a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) openWithCompletionHandler: </td>
          <td></td>
          <td class="paramtype">(PF_FBSessionStateHandler)&#160;</td>
          <td class="paramname"><em>handler</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instance methods</p>
<p>Opens a session for the Facebook.</p>
<p>A session may not be used with &lt;PF_FBRequest&gt; and other classes in the SDK until it is open. If, prior to calling open, the session is in the &lt;PF_FBSessionStateCreatedTokenLoaded&gt; state, then no UX occurs, and the session becomes available for use. If the session is in the &lt;PF_FBSessionStateCreated&gt; state, prior to calling open, then a call to open causes login UX to occur, either via the Facebook application or via mobile Safari.</p>
<p>Open may be called at most once and must be called after the <code><a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a></code> is initialized. Open must be called before the session is closed. Calling an open method at an invalid time will result in an exception. The open session methods may be passed a block that will be called back when the session state changes. The block will be released when the session is closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>A block to call with the state changes. The default is nil. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a36bf9d37fe58f560fa83600266e26461"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) reauthorizeWithPermissions: </td>
          <td></td>
          <td class="paramtype">(NSArray *)&#160;</td>
          <td class="paramname"><em>permissions</em></td>
        </tr>
        <tr>
          <td class="paramkey">behavior:</td>
          <td></td>
          <td class="paramtype">(PF_FBSessionLoginBehavior)&#160;</td>
          <td class="paramname"><em>behavior</em></td>
        </tr>
        <tr>
          <td class="paramkey">completionHandler:</td>
          <td></td>
          <td class="paramtype">(PF_FBSessionReauthorizeResultHandler)&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reauthorizes the session, with additional permissions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permissions</td><td>An array of strings representing the permissions to request during the authentication flow. A value of nil will indicates basic permissions. The default is nil. </td></tr>
    <tr><td class="paramname">behavior</td><td>Controls whether to allow, force, or prohibit Facebook Login. The default is to allow Facebook Login and fall back to Inline Facebook Login if needed. </td></tr>
    <tr><td class="paramname">handler</td><td>A block to call with session state changes. The default is nil. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a604b2fa3cf89515f721c2c1f3adc797c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (<a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a>*) setActiveSession: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a> *)&#160;</td>
          <td class="paramname"><em>session</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An appication may get or set the current active session. Certain high-level components in the SDK will use the activeSession to set default session (e.g. <code><a class="el" href="interface_p_f___f_b_login_view.html">PF_FBLoginView</a></code>, <code><a class="el" href="interface_p_f___f_b_friend_picker_view_controller.html">PF_FBFriendPickerViewController</a></code>)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The <a class="el" href="interface_p_f___f_b_session.html">PF_FBSession</a> object to become the active session</td></tr>
  </table>
  </dd>
</dl>
<p>If an application prefers the flexibilility of directly instantiating a session object, an active session can be set directly. </p>

</div>
</div>
<a class="anchor" id="a93a5e832d173ce162c3783939e0eb642"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) setDefaultAppID: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>appID</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the default Facebook App ID to use for sessions. The app ID may be overridden on a per session basis.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">appID</td><td>The default Facebook App ID to use for &lt;PF_FBSession&gt; methods. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="aed5d4ab563538b059effa41d430028e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) accessToken</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The access token for the session object. </p>

</div>
</div>
<a class="anchor" id="a3524b84d57bb6649ae0aa24800deb123"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) appID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Identifies the Facebook app which the session object represents. </p>

</div>
</div>
<a class="anchor" id="a1c9d9aed24b96b66985cf04496df9ed7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSDate*) expirationDate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The expiration date of the access token for the session object. </p>

</div>
</div>
<a class="anchor" id="a1063c539e1c093c354860bdd686fcd20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isOpen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Indicates whether the session is open and ready for use. </p>

</div>
</div>
<a class="anchor" id="a8450ff411f439dc66798df249eeefec3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray*) permissions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The permissions granted to the access token during the authentication flow. </p>

</div>
</div>
<a class="anchor" id="ab6e6f270389cb61c34244c409500d627"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (PF_FBSessionState) state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Detailed session state </p>

</div>
</div>
<a class="anchor" id="ae45c43aec35f94c5355a95c9748b68ca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) urlSchemeSuffix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Identifies the URL Scheme Suffix used by the session. This is used when multiple iOS apps share a single Facebook app ID. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/andygirvan/Documents/Projects/Apps/iPhone/Wicked Little Devil/Parse.framework/Versions/1.1.0/Headers/<a class="el" href="_p_f___f_b_session_8h_source.html">PF_FBSession.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 12 2012 15:51:16 for Wicked Devil by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
